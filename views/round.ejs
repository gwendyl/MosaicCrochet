<%- include('partials/header') %>

<script type="text/javascript" src="scripts/round.js"></script>
<script src="https://cdn.jsdelivr.net/npm/axios@1.1.2/dist/axios.min.js"></script>


<main class="form-signin m-auto">
    <div class="jumbotron">
        <h1>In the Round</h1>            
        <div class="container">
            <!-- Content here -->
            This is a mosaic-crochet pattern visualization tool.  It is intended for intermediate to advanced crochet artists that are familiar 
            with basic mosaic crochet techniques.  Links to instructional videos can be found on the <a href="/resources">resources</a> page of this website.
            <ul>
                <li>I recommend a 6 stitch increase each round for a flat result.</li>
                <li>Increase stitch is outlined with bold border</li>
                <li>when two stitches meet at same drop-down location, choose the stitch that looks the best</li>
            </ul>
        </div>
        <div class="my-3 p-3 bg-white rounded box-shadow">
            <h1 id="patternName"></h1>
            <button class="btn-secondary" name = "rename" id = "rename">Rename Pattern</button>
            <input class="isHidden" type="text" name="patternNameInput" id="patternNameInput" required>
            <label class="isHidden" id="patternNameLabel" for="patternNameInput">Pattern Name</label><br>
        </div>
        <!-- <form action="roundSettings" method="post"> -->
        <div class="my-3 p-3 bg-white rounded box-shadow">
            <div class="form-group">
                <!-- <input type="text" name="patternName" id="patternName" required>
                <label for="patternName">Pattern Name</label><br> -->
                <div class="row">
                    <div class="col">
                        <input type="number" name = "nbrColors" id="nbrColors" required autofocus min="2" max="4">
                        <label for="nbrColors">Number of Colors</label>
                    </div>
                    <div class="col">
                        <input type="number" name = "baseStitches" id="baseStitches" required autofocus min="6" max="10" >
                        <label for="baseStitches">Stitches in Round 1</label>
                    </div>
                    <div class="col">
                        <input type="number" name = "stitchSize" id="stitchSize" required autofocus min="6" max="20">
                        <label for="stitchSize">Stitch Size</label>
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <input type="color" class="form-control form-control-color" name = "color0" id="color0" title="Choose your first color">
                    </div>
                    <div class="col">
                        <input type="color" class="form-control form-control-color" name = "color1" id="color1" title="Choose your first color">
                    </div>
                    <div class="col">
                        <input type="color" class="form-control form-control-color" name = "color2" id="color2" title="Choose your first color">
                    </div>
                    <div class="col">
                        <input type="color" class="form-control form-control-color" name = "color3" id="color3" title="Choose your first color">
                    </div>
                </div>
                <button class="btn-secondary" name = "go" id = "goButton">Reset Chart</button>
            </div>
        </div>    
        <!-- </form> -->
        <div id="errorDiv">
        </div>
        <div class="my-3 p-3 bg-white rounded box-shadow">
            <canvas id="myCanvas"  class='img-responsive' width="1000" height="1000" style="border:1px solid #000000;"></canvas>
        </div>
        <div class="my-3 p-3 bg-white rounded box-shadow" id="roundsListDiv">
            <ul id="roundsList">
            </ul>
        </div>




        <div class="d-flex flex-column flex-md-row p-4 gap-4 py-md-5 align-items-center justify-content-center">
            <div class="col-sm-3">
                <button class="btn-light" id="printButton">Print</button>
                <button class="btn-light" id="saveButton">Save1</button>                  </div>
            </div>
        </div>

          






    </div>
    <% if (pattern) { %>
        <div class="alert alert-warning" role="alert">
            <input type="number" name = "opBaseStitches" id="opBaseStitches" value="<%= pattern.baseStitchCount %>" >
            <input type="text" name = "opId" id="opId" value="<%= pattern._id %>" >
            <input type="number" name = "opStitchSize" id="opStitchSize" value="<%= pattern.stitchSize %>" >
            <input type="text" name = "opDdStitches" id="opDdStitches" value="<%= pattern.ddStitches %>" >
            <input type="text" name = "opColors" id="opColors" value="<%= pattern.colors %>" >
            <input type="text" name = "opName" id="opName" value="<%= pattern.pattern %>" >

        </div>
    <% } %>
</main>
<%- include('partials/footer'); %>
